<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Прилив</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=PT+Sans:ital,wght@0,400;0,700;1,400;1,700&family=Roboto+Slab:wght@100..900&family=Ubuntu:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&display=swap" rel="stylesheet">

</head>
<body>
    
    <section id="header">
        <header class="d-flex header-container">
            <div class="d-flex">
                <div class="header_info">
                    <p>Старт<br>
                    <span><nobr>1 октября</nobr></span></p>
                </div>
                
                <nav class="d-flex">
                    <di class="center d-flex">
                        <a href="#levels">Уровни</a>
                        <a href="#reviews">Отзывы</a>
                    </div>
                </nav>
            </div>
            

        </header>
    </section>
   
    <main>
        <div class="main_wrapper">
            <form action="#levels">
                <button style="border-radius: 50px;">ЗАПИСАТЬСЯ</button>
                <img src="image/Глаз_урагана.jpg" alt="">
            </form>
        </div> 
    </main> 

    <section id="cards">
        <h1>ИСЦЕЛЯЮЩЕЕ ПРОСТРАНСТВО<br><span>ПРЕДСТАВЛЯЮТ</span></h1>
        <h2>ИРИНА УГРЮМОВА</h2>
        <div class="card jc-center">
            <div class="card_wrapper d-block">
                <img src="image/person_1.jpg" alt="" class="img-margin">
                <form action="https://t.me/ugriumvai" target="_blank">
                    <button class="first_button" style="border-radius: 50px;">@UGRIUMOVA</button> 
                </form>
            </div>
            <img src="image/info_1.png" alt="" class="text">      
        </div>
        
        <h2>ЕКАТЕРИНА ОСКОЛКОВА</h2>
        <div class="card d-flex jc-center ">
            <img src="image/info_2.png" alt="" class="img-margin text item-order-1">
            <div class="card_wrapper d-block item-order-2">
                <img src="image/person_2.jpg" alt="" class="">
                <form action="https://t.me/KaterinaOskolkova" target="_blank">
                    <button class="second_button" class="" style="border-radius: 50px;">@KATERINAOSKOLKOVA</button>
                </form>
            </div>
        </div>
    </section>

    <section id="about">
        <h1>О ПРОЕКТЕ</h1>
        <p>Представляем вам новый уникальный 9 месячный<br>
        проект-погружение ДОВЕРЯЙ ПРИЛИВУ</p>
        <div class="info d-flex jc-center ai-center">
            <div class="info_about item-order-1">
                <img src="image/quotes.png" alt="" class="quotes">
                <p class="text">Это не курс, не обучающая программа. Это<span> интуитивное медленное<br>
                погружение</span> Покоя, Присутствия, Тишины в безопасном<br>
                безоценивающем пространстве Любви и Принятия. Любви к тому, что есть.<br>
                Принятия того, что с тобой происходит. <span>Глаз Урагана - это уже третий<br>
                сезон проекта «Доверяй Приливу». </span><br><br>

                В альпинизме есть понятие «шерп». Шерпы живут в Гималаях и<br>
                помогают альпинистам покорять самую сложную высоту - Эверест.<br>
                В проекте  Доверяй Приливу 3.0 <span>«Глаз Урагана»</span> я и Катя будем<br>
                выполнять роль Шерпа, роль проводника. Покорять же высоту под<br>
                названием «Осознанное творение» участники проекта будут осуществлять<br>
                самостоятельно. Инструменты для этого будут предоставлены.<br><br>
            
            
                Не случайно <span>символом проекта является пустое кресло. </span>Термин взят<br>
                из одноименной книги и является символом Пустоты. «Учение - это не<br>
                Учитель» пишет в своей книге Майкл Боксхолл.
                </p>
                <img src="image/quotes.png" alt="" class="quotes">
            </div>
            <div class="item-order-2">
                <img class="img_person" src="image/irina_1.jpg" alt="">
            </div>
            
        
        </div>
    </section>

    <section id="skills_wrapper">
        <h2>В ПРОЦЕССЕ<br>
            9-МЕСЯЧНОГО ПОГРУЖЕНИЯ</h2>
            <div class="skills d-block">
                <div class="top d-flex jc-center">
                    <div class="skill">
                        <img src="image/кресло.png" alt="">
                        <p class="chair">Познакомитесь со своим хологенетическим профилем (аналог астрологической карты, но на более глубинном уровне понимания)</p>
                    </div>
                    <div class="skill">
                        <img src="image/кресло.png" alt="">
                        <p class="chair">Станете ориентироваться в уровнях спиральной динамики отдельного человека и различных социальных групп</p>
                    </div>
                    <div class="skill">
                        <img src="image/кресло.png" alt="">
                        <p class="chair">Научитесь входить в альфа-состояние, состояние Покоя, Пустоты; практиковать НичтоДелание</p>
                    </div>
                </div>
                
                <div class="bottom d-flex jc-center">
                    <div class="skill">
                        <img src="image/кресло.png" alt="">
                        <p class="chair">Овладеете символическим переключением в 2-х точках по методу Ричарда Бартлетта</p>
                    </div>
                    <div class="skill">
                        <img src="image/кресло.png" alt="">
                        <p class="chair">Интегрируете основные инструменты «Горнила брака» гения современности Д. Шнарха в свою жизнь. Научитесь видеть и понимать Высший Замысел отношений в эволюции человечества</p>
                    </div>
                </div>

            </div>
    </section>

    <section>
        <div class="info_2 d-flex jc-center">
            <img src="image/irina_2.jpg" alt="" class="portret">

            <div class="information" style="margin: 60px 0 100px 20px; ">
                <img src="image/quotes.png" alt="" class="quotes">
                <p class="text">Много чего еще <span>мы познаем</span>, но нет задачи накачать вас<br>
                новыми знаниями. Они, безусловно, у вас появятся.<br><br>

                Кто-то даже обретет <span>новую профессию</span> и <span>новые смыслы</span>.<br><br>
                    
                <span>Но самое главное,</span> что вы получите на выходе - это<br>
                способность осознанно прожить тот самый квантовый<br>
                переход, неизбежность которого очевидна.</p>
                <img src="image/quotes.png" alt="" class="quotes quotes_bottom">
            </div>
        </div>
    </section>

    <section id="levels">
        <h1 class="ta-center">УРОВНИ</h1>
        <div class="levels jc-center">
                <div class="level_basic level">
                    <div class="general info_basic">
                        <h3 class="ta-center">БАЗОВЫЙ<br> УРОВЕНЬ</h3>
                        <ul class="ta-justify">
                            <li>общий телеграмм-канал проекта</li><br>
                            <li>теоретические занятия проекта</li><br>
                            <li>практические разборы в канале</li>
                        </ul>
                        <p class="ta-center">15 900 ₽</p>
                    </div>

                    <div class="buttons">
                        <button onclick="openPopup(); addItem('Бaзовый уровень', 15900)">КУПИТЬ</button>
                    </div>
                </div>
            
                <div class="level_standart level d-block">
                    <div class="general info_standart ta-center jc-center">
                        <h3 class="ta-center">СТАНДАРТНЫЙ<br> УРОВЕНЬ</h3>
                        <ul class="ta-justify">
                            <li>общий телеграмм-канал проекта</li><br>
                            <li>теоретические занятия проекта</li><br>
                            <li>практические разборы в канале</li><br>
                            <li>доступ в чат проекта с обратной связью Екатерины Осколковой и Ирины Угрюмовой</li><br>
                            <li>индивидуальная карта «Генные ключи»</li><br>
                            <li>терапия в минигруппах с сопровождением шерпа проекта</li>
                        </ul>
                        <p class="ta-center">29 900 ₽</p>
                    </div>
                
                    <div class="buttons">
                        <button onclick="openPopup(); addItem('Стандартный уровень', 29900)">КУПИТЬ</button>
                    </div>
                </div>

            <div class="level_premium level d-block">
                <div class="general info_premium">
                    <h3 class="ta-center">ПРЕМИУМ<br> УРОВЕНЬ</h3>
                    <ul class="ta-justify">
                        <li>общий телеграмм-канал проекта</li><br>
                        <li>теоретические занятия проекта</li><br>
                        <li>практические разборы в канале</li><br>
                        <li>доступ в чат проекта с обратной связью Екатерины Осколковой и Ирины Угрюмовой</li><br>
                        <li>индивидуальная карта «Генные ключи»</li><br>
                        <li>терапия в минигруппах с сопровождением Ирины Угрюмовой</li>
                    </ul>
                    <p class="ta-center">59 900 ₽</p>
                </div>
                
                <div class="buttons">
                    <button onclick="openPopup(); addItem('Премиум уровень', 59900)">КУПИТЬ</button>
                </div>
            </div>
        </div>
    </section>

    <section id="question">
        <h2>ЕСЛИ У ВАС ОСТАЛИСЬ ВОПРОСЫ</h2>
        <div class="questions ta-center">
            <form action="https://t.me/KaterinaOskolkova" target="_blank">
                <button style="border-radius: 50px;">ЗАДАТЬ ВОПРОС</button>
            </form>
            
        </div>
    </section>

    <section id="reviews" class="d-flex jc-center">
        <div class="slider">
            <h1>ОТЗЫВЫ</h1>
            <div class="reviews d-flex ta-center">
                <div class="review"><img src="image/snimok_1.png" alt="image 1" ></div>
                <div class="review"><img src="image/snimok_2.png" alt="image 2" ></div>
                <div class="review"><img src="image/snimok_3.png" alt="image 3" ></div>
                <div class="review"><img src="image/snimok_4.png" alt="image 4" ></div>
                <div class="review"><img src="image/snimok_5.png" alt="image 5" ></div>
                <div class="review"><img src="image/snimok_6.png" alt="image 6" ></div>
                <div class="review"><img src="image/snimok_7.png" alt="image 7" ></div>
                <div class="review"><img src="image/snimok_8.png" alt="image 8" ></div>
                <div class="review"><img src="image/snimok_9.png" alt="image 9" ></div>
                <div class="review"><img src="image/snimok_10.png" alt="image 10" ></div>
                <div class="review"><img src="image/snimok_11.png" alt="image 11" ></div>
                <div class="review"><img src="image/snimok_12.png" alt="image 12" ></div>
                <div class="review"><img src="image/snimok_13.png" alt="image 13" ></div>
            </div>
            <div class="arrow left ta-center" onclick="moveSlide(-1)"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-arrow-left-short" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M12 8a.5.5 0 0 1-.5.5H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5a.5.5 0 0 1 .5.5"/>
              </svg></div>
            <div class="arrow right ta-center" onclick="moveSlide(1)"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-arrow-right-short" viewBox="0 0 16 16">
                <path fill-rule="evenodd" d="M4 8a.5.5 0 0 1 .5-.5h5.793L8.146 5.354a.5.5 0 1 1 .708-.708l3 3a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708-.708L10.293 8.5H4.5A.5.5 0 0 1 4 8"/>
              </svg></div>
        </div>
    </section>  

    <footer>
        <div class="footer_wrapper d-flex jc-sa">
            <div class="inn d-block">
                <p>ИНН 290219830220</p>
                <p>ОГРНИП 318290100049082</p>
            </div>
            <a href="https://t.me/ugriumova"><img src="image/original.png" alt=""></a>
            <div class="documents d-block">
                <p><a href="https://cloud.mail.ru/public/xTuq/wF1u2YmAT" target="_blank">Договор оферты</a><br></p>
                <p><a href="">Политика конфиденциальности</a></p>
            </div>
        </div>
    </footer>

    <div class="cart">
        <svg xmlns="http://www.w3.org/2000/svg" width="45" height="50" fill="currentColor" class="bi bi-bag" viewBox="0 0 16 16" id="show-login">
            <path d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1m3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4zM2 5h12v9a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1z"/>
        </svg>
    </div>
    
    <div class="overlay" id="overlay" onclick="closePopup()"></div>

    <div class="popup" id="popup">
        <div class="close-btn" onclick="closePopup()">&times;</div>
        <div class="form">
            <h3>Ваш заказ:</h3>
            <div class="order-list" id="order-list"></div> <!-- Место для отображения заказов -->

            <div class="form-element" id="form-element">
                <label for="name">ВАШИ ФИО</label>
                <input type="text" id="name" placeholder="Иванов Иван Иванович">
            </div>
    
            <div class="form-element">
                <label for="email">ВАШ EMAIL</label>
                <input type="email" id="email" placeholder="pochta@mail.ru">
            </div>
    
            <div class="form-element">
                <label for="phone">ВАШ ТЕЛЕФОН</label>
                <input type="tel" id="phone" placeholder="+7 (999) 999-99-99">
            </div>
    
            <div class="form-element total-price-container ">
                Общая стоимость: <span id="total-price">0</span> руб.
            </div>

            <div class="form-element">
                <button>Отправить данные</button>
            </div>
        </div>
    </div>
</div>
</body>
</html>

<script>
    let currentIndex = 0;

    function moveSlide(direction) {
        const slides = document.querySelector('.reviews');
        const totalSlides = document.querySelectorAll('.review').length;

        currentIndex += direction;
        if (currentIndex < 0) currentIndex = totalSlides - 1;
        if (currentIndex >= totalSlides) currentIndex = 0;

        slides.style.transform = `translateX(-${currentIndex * 100}%)`;
    }

    function openPopup() {
    document.getElementById('popup').classList.add('active');
    document.body.classList.add('no-scroll');
    }

    // Функция для закрытия всплывающего окна
    function closePopup() {
        document.getElementById('popup').classList.remove('active');
        document.body.classList.remove('no-scroll');
    }

// Хранилище для товаров
let cart = loadCartFromLocalStorage(); // Load cart from localStorage when the page loads

// Функция для добавления товара
function addItem(itemName, itemPrice) {
    if (cart[itemName]) {
        cart[itemName].quantity++;
        cart[itemName].totalPrice += itemPrice; // Обновляем общую сумму для данного товара
    } else {
        cart[itemName] = { price: itemPrice, quantity: 1, totalPrice: itemPrice };
    }
    renderCart();
}

// Функция для увеличения количества товара
function increaseQuantity(itemName) {
    cart[itemName].quantity++;
    cart[itemName].totalPrice += cart[itemName].price; // Обновляем общую сумму для данного товара
    renderCart();
}

// Функция для уменьшения количества товара
function decreaseQuantity(itemName) {
    if (cart[itemName].quantity > 1) {
        cart[itemName].quantity--;
        cart[itemName].totalPrice -= cart[itemName].price; // Обновляем общую сумму для данного товара
    } else {
        delete cart[itemName];
    }
    renderCart();
}

const undoTimeouts = {};
const itemsBeingDeleted = {};
let totalDeletedPrice = 0;


// Function to remove an item with an undo option
function removeItem(itemName) {
    const orderList = document.getElementById('order-list');
    const itemElement = Array.from(orderList.children).find(el => el.querySelector('.item-name').textContent === itemName);
    if (!itemElement) return;

    // Hide item details
    itemElement.querySelector('.item-name').style.display = 'none';
    itemElement.querySelector('.item-price').style.display = 'none';
    itemElement.querySelector('.item-quantity').style.display = 'none';
    itemElement.querySelector('.remove-btn').style.display = 'none';

    // Create undo notification
    createUndoNotification(itemName, itemElement);

    itemsBeingDeleted[itemName] = true;
    totalDeletedPrice += cart[itemName].totalPrice;
    updateTotalPrice();

    undoTimeouts[itemName] = setTimeout(() => {
        performDeletion(itemName);
    }, 5000);
}

function createUndoNotification(itemName, itemElement) {
    const undoNotification = document.createElement('div');
    undoNotification.className = 'undo-notification';

    const lineText = document.createElement('div');
    lineText.className = 'line-text';
    lineText.textContent = `Вы удалили "${itemName}"`;
    undoNotification.appendChild(lineText);

    const undoButton = document.createElement('button');
    undoButton.className = 'undo-btn';
    undoButton.textContent = 'Вернуть';
    undoButton.onclick = () => undoRemoveItem(itemName, itemElement, undoNotification);
    undoNotification.appendChild(undoButton);

    itemElement.appendChild(undoNotification);
}

function performDeletion(itemName) {
    delete cart[itemName];
    delete itemsBeingDeleted[itemName];
    updateTotalPrice();
    renderCart();
    saveCartToLocalStorage(); // Save cart to localStorage after deletion
}

function undoRemoveItem(itemName, itemElement, undoNotification) {
    clearTimeout(undoTimeouts[itemName]);
    delete undoTimeouts[itemName];
    delete itemsBeingDeleted[itemName];

    // Restore item details
    itemElement.querySelector('.item-name').style.display = 'block';
    itemElement.querySelector('.item-price').style.display = 'block';
    itemElement.querySelector('.item-quantity').style.display = 'block';
    itemElement.querySelector('.remove-btn').style.display = 'block';

    itemElement.removeChild(undoNotification);

    totalDeletedPrice -= cart[itemName].totalPrice;
    updateTotalPrice();
}

function renderCart() {
    const orderList = document.getElementById('order-list');
    orderList.innerHTML = '';
    for (const itemName in cart) {
        const item = cart[itemName];
        const orderItem = document.createElement('div');
        orderItem.className = 'order-item';

        if (itemsBeingDeleted[itemName]) {
            createUndoNotification(itemName, orderItem);
        } else {
            const itemNameElement = document.createElement('div');
            itemNameElement.className = 'item-name';
            itemNameElement.textContent = itemName;
            orderItem.appendChild(itemNameElement);

            const itemPriceElement = document.createElement('div');
            itemPriceElement.className = 'item-price';
            itemPriceElement.textContent = `${item.totalPrice} руб.`;
            orderItem.appendChild(itemPriceElement);

            const itemQuantityElement = document.createElement('div');
            itemQuantityElement.className = 'item-quantity';

            const decreaseButton = document.createElement('button');
            decreaseButton.textContent = '-';
            decreaseButton.onclick = () => decreaseQuantity(itemName);
            itemQuantityElement.appendChild(decreaseButton);

            const quantityInput = document.createElement('input');
            quantityInput.type = 'number'; // Changed from 'text' to 'number'
            quantityInput.value = item.quantity;
            quantityInput.onchange = (event) => changeQuantity(itemName, event.target.value); // Add onchange event listener
            itemQuantityElement.appendChild(quantityInput);

            const increaseButton = document.createElement('button');
            increaseButton.textContent = '+';
            increaseButton.onclick = () => increaseQuantity(itemName);
            itemQuantityElement.appendChild(increaseButton);

            orderItem.appendChild(itemQuantityElement);

            const removeButton = document.createElement('button');
            removeButton.className = 'remove-btn';
            removeButton.textContent = 'X';
            removeButton.onclick = () => removeItem(itemName);
            orderItem.appendChild(removeButton);
        }

        orderList.appendChild(orderItem);
    }
    updateTotalPrice();
    saveCartToLocalStorage(); // Save cart to localStorage after rendering
}

function updateTotalPrice() {
    const totalPriceElement = document.getElementById('total-price');
    let totalPrice = 0;
    for (const itemName in cart) {
        if (!itemsBeingDeleted[itemName]) {
            totalPrice += cart[itemName].totalPrice;
        }
    }
    totalPriceElement.textContent = totalPrice;
}

// Function to save the cart to localStorage
function saveCartToLocalStorage() {
    localStorage.setItem('cart', JSON.stringify(cart));
}

// Function to load the cart from localStorage
function loadCartFromLocalStorage() {
    const cartData = localStorage.getItem('cart');
    return cartData ? JSON.parse(cartData) : {};
}

function decreaseQuantity(itemName) {
    if (cart[itemName].quantity > 1) {
        cart[itemName].quantity--;
        cart[itemName].totalPrice -= cart[itemName].price;
        renderCart();
        saveCartToLocalStorage();
    }
}

function increaseQuantity(itemName) {
    cart[itemName].quantity++;
    cart[itemName].totalPrice += cart[itemName].price;
    renderCart();
    saveCartToLocalStorage();
}

function changeQuantity(itemName, quantity) {
    let newQuantity = parseInt(quantity);
    if (isNaN(newQuantity) || newQuantity < 1) {
        newQuantity = 1;
    }
    cart[itemName].quantity = newQuantity;
    cart[itemName].totalPrice = newQuantity * cart[itemName].price;
    renderCart();
    saveCartToLocalStorage();
}

// Function to open the popup
function openPopup() {
    document.getElementById('popup').classList.add('active');
    document.getElementById('overlay').classList.add('active');
    document.body.classList.add('no-scroll');
}

// Function to close the popup
function closePopup() {
    document.getElementById('popup').classList.remove('active');
    document.getElementById('overlay').classList.remove('active');
    document.body.classList.remove('no-scroll');
}

// Load cart and render it when the page loads
document.addEventListener('DOMContentLoaded', () => {
    cart = loadCartFromLocalStorage();
    renderCart();
});
</script>

<script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>
<script type="text/javascript">
    (function(){
        emailjs.init("YOUR_USER_ID"); // Замените на ваш User ID из EmailJS
    })();
</script>